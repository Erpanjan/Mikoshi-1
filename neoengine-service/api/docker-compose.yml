version: '3.8'

services:
  neo-engine-api:
    build:
      context: ..
      dockerfile: api/Dockerfile
    ports:
      - "8080:8080"
    environment:
      - API_SECRET=${API_SECRET}
      - GCS_BUCKET_NAME=${GCS_BUCKET_NAME}
      - GCS_PROJECT_ID=${GCS_PROJECT_ID}
      - GCS_CREDENTIALS_PATH=${GCS_CREDENTIALS_PATH:-}
      - PORT=8080
    volumes:
      # Mount credentials if using local file
      - ${GCS_CREDENTIALS_PATH:-./dummy}:/app/credentials.json:ro
    env_file:
      - env.example

